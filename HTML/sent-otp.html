<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forgot Password - Cine Beats</title>
    <link rel="stylesheet" href="/CSS/sent-otp.css">
    <script src="/JS/sent-otp.js"></script>
    <style>
        #error{
            color: red;
            font-size: 14px;
            margin:0;
        }
    </style>
</head>

<body>
    <div class="forgot-password-container">
        <div class="forgot-password-header">
            <img src="/MEDIA/IMAGES/LOGOS/app-logo.png" alt="Cine Beats Logo" class="logo">
            <h2>Forgot Your Password?</h2>

        </div>

        <form class="forgot-password-form">
            <label for="contact-info">Email or Phone Number</label>
            <input type="text" id="contact-info" name="contact-info" placeholder="Enter your email or phone number">
            <p id="error"></p>
            <button type="submit" class="send-otp-button" onclick="changePassword(event)">Send OTP</button>
        </form>

        <div class="back-link">
            <p><a href="/index.html">Back to login</a>.</p>
        </div>
    </div>
    <script>
        function changePassword(event){
            event.preventDefault();
            var userInput = document.getElementById("contact-info").value; 
           
            var phoneFlag = false;
            var emailFlag = false;
            var isPhoneNo = false;


            for(var i=0;i<userInput.length;i++){
                if((userInput[i]>=0)&&(userInput[i]<=9)){
                    isPhoneNo = true;
                }
                else{
                    isPhoneNo= false
                }
            }
            if(isPhoneNo==false){
                 // Email Validation
                    var flag1 = false;
                    var flag2 = true;
                    
                    for(var i=0;i<userInput.length;i++){
                        if(userInput[i] == "@"){
                            flag1 = true;
                        }
                        if((userInput[i]>='A')&&(userInput[i]<='Z')){
                            flag2 = false;
                        }
                    }
                    if((flag1==true)&&(flag2==true)){
                        emailFlag = true;
                    }
                    else{
                    document.getElementById("error").innerHTML="Please enter a valid email address";
                    }
             }else{
                    //phone number validation
                    if((userInput>=6000000000)&&(userInput<=9999999999)){
                            phoneFlag = true;
                    }
                    else{
                        document.getElementById("error").innerHTML ="Please enter valid phone Number"
                    }
             }

             if(phoneFlag==true||emailFlag==true){
                window.location.href = "/HTML/forgot-otp-verification.html"
             }

           
        }
    </script>
    
</body>

</html>
